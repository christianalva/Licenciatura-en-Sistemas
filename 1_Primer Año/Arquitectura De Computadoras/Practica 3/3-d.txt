
HAND_DATO EQU 40H
HAND_ESTADO EQU 41H

ORG 1000H
CARACTER DB ?



ORG 2000H
IN AL, HAND_ESTADO
AND AL, 01111111B
OUT HAND_ESTADO, AL; ESTADO = 0XXXXXXX

MOV CH, 5
MOV BX, OFFSET CARACTER

LOOP: INT 6
      INC BX
      DEC CH
     JNZ LOOP

MOV BX, OFFSET CARACTER
MOV CH, 5

POOL:  IN AL, HAND_ESTADO
       AND AL, 1; CHEQUEO EL BIT 1
       JNZ POOL; MIENTRAS SEA 1 SIGO EN EL LOOP 


       MOV AL, [BX]
       OUT HAND_DATO, AL
       INC BX
       DEC CH
       
       CMP CH, 0
       JNZ POOL

POOL2: IN AL, HAND_ESTADO
       AND AL, 1; CHEQUEO EL BIT 1
       JNZ POOL2; MIENTRAS SEA 1 SIGO EN EL LOOP 


       MOV AL, [BX]
       OUT HAND_DATO, AL
       DEC BX
       INC CH
       
       CMP CH, 6
       JNZ POOL2


INT 0
END